<!DOCTYPE html>
<html>
    <head>
        <title>aanchal doc changes : Closed Captions Support</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">aanchal doc changes</a></span>
                            </li>
                                                    <li>
                                <span><a href="Aanchal-Doc-changes_5439532.html">Aanchal Doc changes</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            aanchal doc changes : Closed Captions Support
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Aanchal Gupta</span>, last modified by <span class='editor'> Tom Charles</span> on Dec 06, 2017
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>The Roku platform supports the following closed caption formats:</p><ul><li>SMPTE-TT</li><li>EIA-608/708</li><li>WebVTT</li></ul><h2 id="ClosedCaptionsSupport-Overview">Overview</h2><p>SMPTE-TT uses TTML formatted data either in an external file or embedded into the video stream to carry the caption text, timing, and format information. With EIA-608/708, caption information can only be embedded into the video stream. Adding support for either of these formats to your BrightScript channel is straightforward. SMPTE-TT and EIA-608 caption formats are not supported on legacy Roku platforms where the device is running firmware version 3.1. These platforms are limited to the use of SRT subtitles.</p><p> </p><div class="confluence-information-macro-body"><h2 id="ClosedCaptionsSupport-ClosedCaptiontracksspecification">Closed Caption tracks specification</h2><p>Use the Content-Meta-Data property SubtitleTracks that specify language, description and track name for each subtitle track. The SubtitleConfig property should not be used – unless overriding the caption track that is automatically selected based on user caption language preference. When specifying a track in SubtitleConfig – be sure to also specify it in SubtitleTracks so that the language and description are clear. Omitting the description will cause the UI to display the language in the closed caption menu. A description should at least contain the language.</p><p>The Video Node has additional fields related to closed captioning.</p></div><h2 id="ClosedCaptionsSupport-CertificationRequirements">Certification Requirements</h2><h3 id="ClosedCaptionsSupport-PackagedControlSettings">Packaged Control Settings</h3><p>In accordance with our certification requirements, Roku’s Video node automatically handles:</p><ul><li>closed captioning, </li><li>language selection, and </li><li>instant replay.</li></ul><p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-left" height="250" src="attachments/5440654/5440648.png" data-image-src="attachments/5440654/5440648.png" data-unresolved-comment-count="0" data-linked-resource-id="5440648" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Roku-remote-control-star-button.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="5440654" data-linked-resource-container-version="4"></span></span></p><p> </p><p>Unless the channel overrides it, all Roku players will launch an <strong>Options overlay menu</strong> when the <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail" width="40" src="attachments/5440654/5440649.png" data-image-src="attachments/5440654/5440649.png" data-unresolved-comment-count="0" data-linked-resource-id="5440649" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2017-7-13 8:40:18.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="5440654" data-linked-resource-container-version="4"></span> </span>key is pressed during playback of full-screen videos.</p><p><span style="color: rgb(0,0,0);">However</span>, this only works if the channel does not have its <a href="https://sdkdocs.roku.com/pages/viewpage.action?pageId=1608547" rel="nofollow">OnKeyEvent()</a> handler fired, and the <strong><a href="https://sdkdocs.roku.com/display/sdkdoc/Video" rel="nofollow">Video node</a></strong> is <span style="color: rgb(0,0,0);">playing</span> full screen and <span style="color: rgb(0,0,0);">setFocus is enabled i.e., the Video node is in focus, as displayed in the following code example:</span></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p>sub init()<br/>m.top.setFocus(true)<br/>setVideo()<br/>end sub</p></td></tr></tbody></table></div><p><span style="color: rgb(255,0,0);"> <br/></span></p><p><span style="color: rgb(255,0,0);"><br/></span></p><p><span style="color: rgb(255,0,0);"><span style="color: rgb(0,0,0);"><strong>Note:</strong> When a full-screen video is playing, the user will expect the * key to work as expected. The channel must not override it in cases where there are no other UI elements showing with associated actions for the * key.</span></span></p><h3 id="ClosedCaptionsSupport-CustomControlSettings">Custom Control Settings</h3><h4 id="ClosedCaptionsSupport-Recommendations">Recommendations</h4><p>Note that Caption<span style="color: rgb(0,0,0);">s have following three values:</span></p><ul><li>“on,”</li><li>“on-replay,” and</li><li>“off.”</li></ul><p><span style="color: rgb(0,0,0);">The following is a list of recommendations and items to be aware of:</span></p><ul><li>Starting from Roku OS 8, it is no longer necessary for a channel to partake in the Closed Caption track selection, apart from adding any available tracks to the list of available tracks. The firmware now selects a Closed Caption track based on the preferred caption language selection in the system preferences. When the selected language is not available, it defaults to the system's UI language.</li><li>The global <strong>closedCaptionMode</strong> method of the <a href="https://sdkdocs.roku.com/display/sdkdoc/Video" rel="nofollow">videoNode</a> object is how you turn on and off closed captioning of the current playing video. The global settings can be read and set in the <a href="https://sdkdocs.roku.com/display/sdkdoc/ifDeviceInfo" rel="nofollow">rodeviceinfo</a> object. <span style="color: rgb(0,0,0);">These affect the same system setting. Whenever the user switches on/off closed caption, it is expected that the global setting will be adjusted accordingly. Therefore setting the global setting every time you adjust a local setting is required.</span></li><li>The <strong>audio track</strong> and the <strong>subtitle track</strong> (for Multilanguage subtitles) can be set <span style="color: rgb(0,0,0);">using</span> the <strong>VideoNode.audioTrack</strong> and <strong>VideoNode.subtitleTrack</strong> respectively. The available tracks can be found with <strong>VideoNode.availableAudioTracks</strong> and <strong>VideoNode.availableSubtitleTracks</strong>. Another useful item is <strong>rodeviceinfo.GetCurrentLocale</strong>.</li><li>If you are using the <strong>roVideoScreen</strong> or <strong>roVideoPlayer</strong>, you should be rewriting your application in <strong><a href="https://sdkdocs.roku.com/display/sdkdoc/SceneGraph+Core+Concepts" rel="nofollow">SceneGraph</a></strong> as <span style="color: rgb(0,0,0);">the</span> older technologies are being dropped from the firmware.</li></ul><h3 id="ClosedCaptionsSupport-StarButton">Star Button</h3><p><span style="color: rgb(0,0,0);"><strong>Important notes about the <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail" width="40" src="attachments/5440654/5440649.png" data-image-src="attachments/5440654/5440649.png" data-unresolved-comment-count="0" data-linked-resource-id="5440649" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2017-7-13 8:40:18.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="5440654" data-linked-resource-container-version="4"></span></span> Button:</strong></span></p><div class="sectionColumnWrapper conf-macro output-block"><div class="sectionMacro"><div class="sectionMacroRow"><div class="columnMacro conf-macro output-block"><p><span class="confluence-embedded-file-wrapper image-right-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper image-right-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-right" height="250" src="attachments/5440654/5440648.png" data-image-src="attachments/5440654/5440648.png" data-unresolved-comment-count="0" data-linked-resource-id="5440648" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Roku-remote-control-star-button.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="5440654" data-linked-resource-container-version="4"></span></span></p></div><div class="columnMacro conf-macro output-block"><p> </p><ul><li>All Roku devices (express, premier, premier+, premier Ultra)  plus all TVs handle the <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail" width="40" src="attachments/5440654/5440649.png" data-image-src="attachments/5440654/5440649.png" data-unresolved-comment-count="0" data-linked-resource-id="5440649" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2017-7-13 8:40:18.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="5440654" data-linked-resource-container-version="4"></span></span><span style="color: rgb(0,0,0);">button.</span></li><li>Beginning with Roku OS 8, the Options overlay slides in whenever the <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail" width="40" src="attachments/5440654/5440649.png" data-image-src="attachments/5440654/5440649.png" data-unresolved-comment-count="0" data-linked-resource-id="5440649" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2017-7-13 8:40:18.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="5440654" data-linked-resource-container-version="4"></span></span> button is pressed, the Video node is in focus, and the OnKeyEvent() handler is fired. When the Video node is not in focus, the Options overlay does not slide in and the OnKeyEvent() handler is fired. <span style="color: rgb(0,0,0);"><br/></span></li><li><span style="color: rgb(0,0,0);">If you are running the Video Node on older Roku devices, then th</span>e <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail" width="40" src="attachments/5440654/5440649.png" data-image-src="attachments/5440654/5440649.png" data-unresolved-comment-count="0" data-linked-resource-id="5440649" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2017-7-13 8:40:18.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="5440654" data-linked-resource-container-version="4"></span></span><span style="color: rgb(255,0,0);"><span style="color: rgb(0,0,0);">button </span></span>can only be detected at the channel level. <span style="color: rgb(0,0,0);">As a result</span>, you will not be able to disable the default UI on<span style="color: rgb(0,0,0);"> any of the older </span>Roku devices. </li></ul></div></div></div></div><h3 id="ClosedCaptionsSupport-InstantReplayButton">Instant Replay Button</h3><p>Similarly, to closed captioning, Roku recommends that you allow us to handle use of the instant replay button <span class="confluence-embedded-file-wrapper"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/5440654/5440650.png" data-image-src="attachments/5440654/5440650.png" data-unresolved-comment-count="0" data-linked-resource-id="5440650" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2017-7-13 10:42:14.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="5440654" data-linked-resource-container-version="4"></span></span> in our firmware. However, if you decide to override our built-in functionality, then your channel must offer equal levels of functionality.</p><p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-left" height="250" src="attachments/5440654/5440651.png" data-image-src="attachments/5440654/5440651.png" data-unresolved-comment-count="0" data-linked-resource-id="5440651" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Roku-remote-control-replay-button.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="5440654" data-linked-resource-container-version="4"></span></span></p><p>While playing video, pressing <span class="confluence-embedded-file-wrapper"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/5440654/5440650.png" data-image-src="attachments/5440654/5440650.png" data-unresolved-comment-count="0" data-linked-resource-id="5440650" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2017-7-13 10:42:14.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="5440654" data-linked-resource-container-version="4"></span></span> will move the play head back 20 seconds and resume playing. If the closed caption setting is set to “On-replay,” then closed captioning will appear for the duration of time until playback reaches the position where the user presses <span class="confluence-embedded-file-wrapper"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/5440654/5440650.png" data-image-src="attachments/5440654/5440650.png" data-unresolved-comment-count="0" data-linked-resource-id="5440650" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2017-7-13 10:42:14.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="5440654" data-linked-resource-container-version="4"></span></span> .</p><p>The <span style="color: rgb(0,0,0);">instant</span> replay button events can be received like any other <a href="https://sdkdocs.roku.com/display/sdkdoc/Event+Loops" rel="nofollow">events</a>.</p><p><span style="color: rgb(0,0,0);">Beginning with Roku OS 8, the firmware will automatically enable the closed captions during the replay interval.</span></p><p>Pressing <span class="confluence-embedded-file-wrapper"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/5440654/5440650.png" data-image-src="attachments/5440654/5440650.png" data-unresolved-comment-count="0" data-linked-resource-id="5440650" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2017-7-13 10:42:14.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="5440654" data-linked-resource-container-version="4"></span></span> <span style="color: rgb(0,0,0);">multiple times should move the play head and changes the demarcation point accordingly i.e., only the most recent replay applies. Also, if you are live streaming you can stop seeking back if the play head hit the end of the live window.</span></p><p> </p><p><br/><br/></p><h3 id="ClosedCaptionsSupport-AdditionalConsiderations">Additional Considerations</h3><p><span style="color: rgb(0,0,0);">Although</span> <strong>Closed Captioning</strong> and <strong>Subtitles</strong> are two different things <span style="color: rgb(255,0,0);"><span style="color: rgb(0,0,0);">and server separate functions, both functions reside within the</span> <a href="https://sdkdocs.roku.com/display/sdkdoc/Video" rel="nofollow">Video node</a></span>.</p><p>One important consideration with the rules outlined above is that the <a class="external-link" href="https://blog.roku.com/developer/2016/02/10/roku-ad-framework/" rel="nofollow">Roku Ad Framework</a> (RAF) will turn off <strong>trickplay</strong> and the <strong>instant replay</strong> for the duration of an ad. If you are using server-stitched, it is up to the channel to disable this with <strong>videoplayer.enableUI</strong>.</p><div class="sectionColumnWrapper conf-macro output-block"><div class="sectionMacro"><div class="sectionMacroRow"><div class="columnMacro conf-macro output-block"><p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-left" height="250" src="attachments/5440654/5440652.png" data-image-src="attachments/5440654/5440652.png" data-unresolved-comment-count="0" data-linked-resource-id="5440652" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Roku-remote-control-4-button.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="5440654" data-linked-resource-container-version="4"></span></span></p></div><div class="columnMacro conf-macro output-block"><p> </p><p>Finally, note that the <strong>fast forward</strong>, <strong>rewind</strong>, and the <strong>left</strong> &amp; <strong>right</strong> arrows on the direction pad should move the play head. </p><p><br/>Use <strong>videoplayer.notificationInterval</strong> events to simplify the channel logic around this.</p></div><div class="columnMacro conf-macro output-block"><p> </p></div></div></div></div><p> </p><p><strong>Related <span style="color: rgb(0,0,0);">Topics</span></strong></p><ul><li>Video node: <a href="https://sdkdocs.roku.com/display/sdkdoc/Video" rel="nofollow">sdkdocs.roku.com/display/sdkdoc/Video</a></li><li>idDeviceInfo: <a href="https://sdkdocs.roku.com/display/sdkdoc/ifDeviceInfo" rel="nofollow">sdkdocs.roku.com/display/sdkdoc/ifDeviceInfo</a></li><li>Event loops: <a href="https://sdkdocs.roku.com/display/sdkdoc/Event+Loops" rel="nofollow">sdkdocs.roku.com/display/sdkdoc/Event+Loops</a></li><li>RAF overview: <a class="external-link" href="https://blog.roku.com/developer/2016/02/10/roku-ad-framework/" rel="nofollow">blog.roku.com/developer/2016/02/10/roku-ad-framework/</a><br/><br/></li></ul><div><h2 id="ClosedCaptionsSupport-"><span style="color: rgb(0,0,0);"><br/></span></h2><h2 id="ClosedCaptionsSupport-Non-LegacyPlatforms"><span style="color: rgb(0,0,0);">Non-Legacy Platforms</span></h2><div><span style="color: rgb(0,0,0);"><br/></span></div><div><span style="color: rgb(0,0,0);">The non-legacy Roku platforms also include a closed captions setting menu (under the Settings menu option) which allows Roku users to control how closed captions are rendered on the device. These settings let users turn closed captions on and off, and to customize various caption properties such as font size, color, etc. These settings are available to developers via APIs defined on the roDeviceInfo component. It is not necessary for channels to implement their own closed caption settings UI, as the state of the global settings can be queried using these new API functions. Details of the global closed caption settings APIs can be found here.</span></div></div><h2 id="ClosedCaptionsSupport-RokuSMPTE-TTSupportDetails">Roku SMPTE-TT Support Details</h2><p><span style="color: rgb(0,0,0);">Roku has partially implemented the SMPTE-TT TTML spec that can be referenced here: <a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/" rel="nofollow">http://www.w3.org/TR/ttaf1-dfxp/</a>. Roku makes no claim of even minimal compliance. The link to the TTML spec is provided only for discussion on features we have implemented. Roku's TTML parser will recognize regions, styles, and spans. The captions are recognized as &quot;p&quot; paragraph elements with a &quot;begin&quot; and &quot;end&quot; time. Roku's TTML does not recognize the &quot;duration&quot; attribute for captions.</span></p><p>Roku's Caption rendering will always use a build in Gotham font regardless of any font specified in the TTML. Likewise, font styles (like italics or Bold) are also ignored. However, the Roku Caption rendering will make the best guess effort at choosing the corresponding font size in the system Gotham font using the specified font size in the TTML.</p><p>Roku's TTML parser recognizes sufficient stylings to render colors, positions, and alignments either on an absolute or percentage offset. Namespaces do not cause a problem for the parser, but they are not validated either.</p><p>The Roku TTML parser recognizes the following elements from Section 7 of the TTML spec that specify the structure and principal content aspects of a document instance:</p><ul><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#document-structure-vocabulary-tt" rel="nofollow"><strong>7.1.1 tt</strong></a></p></li><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#document-structure-vocabulary-head" rel="nofollow"><strong>7.1.2 head</strong></a></p></li><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#document-structure-vocabulary-body" rel="nofollow"><strong>7.1.3 body</strong></a></p></li><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#content-vocabulary-div" rel="nofollow"><strong>7.1.4 div</strong></a></p></li><li><p><strong><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#content-vocabulary-p" rel="nofollow">7.1.5 p</a></strong></p></li><li><p><strong><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#content-vocabulary-span" rel="nofollow">7.1.6 span</a></strong></p></li></ul><p>The Roku TTML parser recognizes the following elements from Section 8 of the TTML spec that specify the structure and principal styling aspects of a document instance:</p><ul><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#styling-vocabulary-styling" rel="nofollow"><strong>8.1.1 styling</strong></a></p></li><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#styling-vocabulary-style" rel="nofollow"><strong>8.1.2 style</strong></a></p></li></ul><p>The Roku TTML parser recognizes the following styling elements from Section 8.2 of the TTML spec:</p><ul><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-backgroundColor" rel="nofollow"><strong>8.2.2 backgroundColor</strong></a></p></li><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-color" rel="nofollow"><strong>8.2.3 color</strong></a></p></li><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-displayAlign" rel="nofollow"><strong>8.2.6 displayAlign</strong></a></p></li><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-extent" rel="nofollow"><strong>8.2.7 extent</strong></a></p></li><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-fontSize" rel="nofollow"><strong>8.2.9 fontSize</strong></a></p></li><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-origin" rel="nofollow"><strong>8.2.14 origin</strong></a></p></li><li><p><strong><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-textAlign" rel="nofollow">8.2.18 textAlign</a></strong></p></li></ul><p>The Roku TTML parser recognizes the following layout elements from Section 9 of the TTML spec:</p><ul><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#layout-vocabulary-layout" rel="nofollow"><strong>9.1.1 layout</strong></a></p></li><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#layout-vocabulary-region" rel="nofollow"><strong>9.1.2 region</strong></a></p></li></ul><div class="div3"><p><a name="timing-attribute-vocabulary" rel="nofollow"></a>The Roku TTML parser recognizes the following basic timing attributes for use with timed elements:</p><ul><li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#timing-attribute-begin" rel="nofollow"><strong>10.2.1 begin</strong></a></p></li><li><p><strong><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#timing-attribute-end" rel="nofollow">10.2.2 end</a></strong></p></li></ul></div><h2 id="ClosedCaptionsSupport-EIA-608">EIA-608</h2><p>Roku supports EIA-608 closed caption data (analog TV format) encapsulated within a EIA-708 container (digital TV) in an H.264 elementary stream. EIA-608 captions are delivered as part of the video stream itself. One benefit of this caption format is that there can be multiple “channels” of captions within the stream. These separate channels could be used for different languages, for example, English captions on one channel, Spanish on another, and so forth.</p><p>To render EIA-608 captions from within BrightScript, simply set the TrackName attribute of the SubtitleConfig content metadata parameter to “eia608/n” where n is the caption channel. <span style="color: rgb(0,0,0);">Also, add it to SubtitleTracks to specify the correct language.</span></p><h2 id="ClosedCaptionsSupport-WebVTT">WebVTT</h2><p>Roku supports WebVTT captions if embedded in HLS streams or manifests. As with the other closed caption formats, a channel specifies WebVTT captions in the SubtitleTracks metadata. The <strong>TrackName</strong> property is set to &quot;webvtt/track&quot; where <strong>track</strong> specifies the index of the caption track to render.</p><h2 id="ClosedCaptionsSupport-ClosedCaptionSupportSummary">Closed Caption Support Summary</h2><p>Below is a summary of the closed caption formats supported by the various video streaming technologies on Roku devices.</p><div class="table-wrap"><table class="confluenceTable"><thead><tr><th class="confluenceTh"><div class="tablesorter-header-inner"> </div></th><th class="confluenceTh"><div class="tablesorter-header-inner">SMPTE-TT</div></th><th class="confluenceTh"><div class="tablesorter-header-inner">EIA-608</div></th><th colspan="1" class="confluenceTh"><div class="tablesorter-header-inner">WebVTT</div></th></tr></thead><tbody><tr><th class="confluenceTh">MP4 VOD</th><td class="confluenceTd">Yes (external file only)</td><td class="confluenceTd">Yes (in stream only for all manifests containing AVC streams)</td><td colspan="1" class="confluenceTd">No</td></tr><tr><th class="confluenceTh">HLS VOD</th><td class="confluenceTd">Yes (external file only)</td><td class="confluenceTd">Yes (in stream only for all manifests containing AVC streams)</td><td colspan="1" class="confluenceTd">Yes (In a separate stream described in the manifest ( playlist for hls))</td></tr><tr><th class="confluenceTh">HLS Live</th><td class="confluenceTd">No</td><td class="confluenceTd">Yes (in stream only for all manifests containing AVC streams)</td><td colspan="1" class="confluenceTd">Yes  (In a separate stream described in the manifest ( playlist for hls))</td></tr><tr><th class="confluenceTh">Smooth VOD</th><td class="confluenceTd">Yes (in stream or external file)</td><td class="confluenceTd">Yes (in stream only for all manifests containing AVC streams)</td><td colspan="1" class="confluenceTd">No</td></tr><tr><th class="confluenceTh">Smooth Live</th><td class="confluenceTd">Yes (in stream only)</td><td class="confluenceTd">Yes (in stream only for all manifests containing AVC streams)</td><td colspan="1" class="confluenceTd">No</td></tr><tr><th colspan="1" class="confluenceTh">DASH VOD</th><td colspan="1" class="confluenceTd">Yes (external file only)</td><td colspan="1" class="confluenceTd">Yes (in stream only for all manifests containing AVC streams)</td><td colspan="1" class="confluenceTd">No</td></tr></tbody></table></div>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/5440654/5440648.png">Roku-remote-control-star-button.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/5440654/5440649.png">image2017-7-13 8:40:18.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/5440654/5440650.png">image2017-7-13 10:42:14.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/5440654/5440651.png">Roku-remote-control-replay-button.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/5440654/5440652.png">Roku-remote-control-4-button.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/5440654/5440653.png">caption_dialog.png</a> (application/octet-stream)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jan 23, 2018 17:12</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
